!function(a){jQuery.fn.extend({elastic:function(){var a=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){function b(){var a=Math.floor(parseInt(e.width(),10));f.width()!==a&&(f.css({width:a+"px"}),d(!0))}function c(a,b){var c=Math.floor(parseInt(a,10));e.height()!==c&&e.css({height:c+"px",overflow:b})}function d(a){var b=e.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),d=f.html().replace(/<br>/gi,"<br />");if((a||b+"&nbsp;"!==d)&&(f.html(b+"&nbsp;"),Math.abs(f.height()+g-e.height())>3)){var j=f.height()+g;j>=i?c(i,"auto"):h>=j?c(h,"hidden"):c(j,"hidden")}}if("textarea"!==this.type)return!1;var e=jQuery(this),f=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),g=parseInt(e.css("line-height"),10)||parseInt(e.css("font-size"),"10"),h=parseInt(e.css("height"),10)||3*g,i=parseInt(e.css("max-height"),10)||Number.MAX_VALUE;0>i&&(i=Number.MAX_VALUE),f.appendTo(e.parent());for(var j=a.length;j--;)f.css(a[j].toString(),e.css(a[j].toString()));e.css({overflow:"hidden"}),e.bind("keyup change cut paste",function(){d()}),jQuery(window).bind("resize",b),e.bind("resize",b),e.bind("update",d),e.bind("blur",function(){f.height()<i&&(f.height()>h?e.height(f.height()):e.height(h))}),e.bind("input paste",function(a){setTimeout(d,250)}),d()})}})}(jQuery);